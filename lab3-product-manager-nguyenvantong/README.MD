# Product Management Application

(Node.js + Express + AWS)

---

## PH·∫¶N 1. GI·ªöI THI·ªÜU D·ª∞ √ÅN

ƒê√¢y l√† ·ª©ng d·ª•ng **qu·∫£n l√Ω s·∫£n ph·∫©m** ƒë∆∞·ª£c x√¢y d·ª±ng b·∫±ng **Node.js (Express)** v√† **EJS**, tri·ªÉn khai tr√™n n·ªÅn t·∫£ng **Amazon Web Services (AWS)**.

### Ch·ª©c nƒÉng ch√≠nh

·ª®ng d·ª•ng h·ªó tr·ª£ ƒë·∫ßy ƒë·ªß c√°c ch·ª©c nƒÉng **CRUD**:

* Create: Th√™m s·∫£n ph·∫©m (k√®m h√¨nh ·∫£nh)
* Read: Xem danh s√°ch s·∫£n ph·∫©m
* Update: C·∫≠p nh·∫≠t th√¥ng tin s·∫£n ph·∫©m
* Delete: X√≥a s·∫£n ph·∫©m (x√≥a c·∫£ d·ªØ li·ªáu v√† ·∫£nh)

### C√°c d·ªãch v·ª• AWS s·ª≠ d·ª•ng

* **Amazon EC2**: Ch·∫°y ·ª©ng d·ª•ng Node.js
* **Amazon DynamoDB**: L∆∞u tr·ªØ d·ªØ li·ªáu s·∫£n ph·∫©m
* **Amazon S3**: L∆∞u tr·ªØ h√¨nh ·∫£nh s·∫£n ph·∫©m
* **IAM Role**: C·∫•p quy·ªÅn truy c·∫≠p AWS an to√†n

---

## PH·∫¶N 2. T·∫†O DYNAMODB (CHI TI·∫æT)

### B∆∞·ªõc 2.1: Truy c·∫≠p DynamoDB

* ƒêƒÉng nh·∫≠p **AWS Console**
* Ch·ªçn **Services ‚Üí DynamoDB**
* Nh·∫•n **Create table**

### B∆∞·ªõc 2.2: C·∫•u h√¨nh b·∫£ng

* **Table name**: `Products`
* **Partition Key**:

    * Name: `id`
    * Type: String


### B∆∞·ªõc 2.3: T·∫°o b·∫£ng

* Nh·∫•n **Create table**
* ƒê·ª£i tr·∫°ng th√°i b·∫£ng chuy·ªÉn sang **ACTIVE**

### Gi·∫£i th√≠ch

* DynamoDB l√† **NoSQL, schema-less**
* Ch·ªâ c·∫ßn ƒë·ªãnh nghƒ©a **Partition Key**
* C√°c field nh∆∞ `name`, `price`, `quantity`, `imageUrl` s·∫Ω **t·ª± ƒë·ªông ƒë∆∞·ª£c t·∫°o khi PutItem**

---

## PH·∫¶N 3. T·∫†O AMAZON S3

### B∆∞·ªõc 3.1: T·∫°o bucket

* AWS Console ‚Üí S3 ‚Üí Create bucket
* Bucket name: `product-management`
* Region: `ap-southeast-1`

### B∆∞·ªõc 3.2: B·ªè ch·∫∑n public access

* B·ªè ch·ªçn **Block all public access**
* X√°c nh·∫≠n c·∫£nh b√°o

### B∆∞·ªõc 3.3: C·∫•u h√¨nh Bucket Policy (public read)

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": "*",
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::product-management/*"
    }
  ]
}
```

### M·ª•c ƒë√≠ch

* L∆∞u tr·ªØ ·∫£nh s·∫£n ph·∫©m
* Cho ph√©p hi·ªÉn th·ªã ·∫£nh tr·ª±c ti·∫øp tr√™n giao di·ªán web

---

## PH·∫¶N 4. T·∫†O IAM ROLE CHO EC2

### B∆∞·ªõc 4.1: T·∫°o IAM Role

* AWS Console ‚Üí IAM ‚Üí Roles ‚Üí Create role
* Trusted entity: **AWS service**
* Use case: **EC2**

### B∆∞·ªõc 4.2: G√°n policy

* `AmazonDynamoDBFullAccess`
* `AmazonS3FullAccess`

### B∆∞·ªõc 4.3: Ho√†n t·∫•t

* Role name: `EC2ProductManagerRole`
* Create role

### Gi·∫£i th√≠ch

* IAM Role cung c·∫•p **temporary credentials**
* An to√†n h∆°n Access Key
* Kh√¥ng c·∫ßn l∆∞u key trong code hay `.env`

---

## PH·∫¶N 5. T·∫†O EC2 INSTANCE (LINUX)

### B∆∞·ªõc 5.1: Launch instance

* EC2 ‚Üí Launch instance
* Name: `product-manager-server`

### B∆∞·ªõc 5.2: Ch·ªçn AMI

* **Amazon Linux 2023**

### B∆∞·ªõc 5.3: Instance type

* `t2.micro` ho·∫∑c `t3.micro` (Free Tier)

### B∆∞·ªõc 5.4: T·∫°o Key Pair

* Create new key pair
* Format: `.pem`
* T·∫£i v·ªÅ v√† l∆∞u c·∫©n th·∫≠n

### B∆∞·ªõc 5.5: Network

* Allow SSH (port 22)
* Allow Custom TCP: port 3000

### B∆∞·ªõc 5.6: G√°n IAM Role

* Advanced details ‚Üí IAM instance profile
* Ch·ªçn `EC2ProductManagerRole`

---

## PH·∫¶N 6. K·∫æT N·ªêI EC2 T·ª™ WINDOWS B·∫∞NG FILE `.pem`

### File `.pem` d√πng ƒë·ªÉ l√†m g√¨?

* D√πng ƒë·ªÉ **SSH v√†o EC2**
* **KH√îNG li√™n quan ƒë·∫øn AWS SDK hay quy·ªÅn DynamoDB/S3**

### K·∫øt n·ªëi b·∫±ng PowerShell / Git Bash

```bash
ssh -i product-manager.pem ec2-user@<PUBLIC_EC2_IP>
```

N·∫øu th·∫•y:

```
[ec2-user@ip-xxx ~]$
```

‚Üí K·∫øt n·ªëi th√†nh c√¥ng

---

## PH·∫¶N 7. C√ÄI M√îI TR∆Ø·ªúNG TR√äN EC2

```bash
sudo yum update -y
sudo yum install git -y
```

### C√†i Node.js v18

```bash
curl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -
sudo yum install nodejs -y
```

### Ki·ªÉm tra

```bash
node -v
npm -v
git --version
```

---

## PH·∫¶N 8. CLONE SOURCE CODE T·ª™ GITHUB

```bash
git clone <GITHUB_REPO_URL>
cd <ten-thu-muc-project>
```

Ki·ªÉm tra c·∫•u tr√∫c:

* app.js
* package.json
* routes/
* views/

---

## PH·∫¶N 9. C·∫§U H√åNH FILE `.env`

T·∫°o file `.env`:

```env
PORT=3000
AWS_REGION=ap-southeast-1
AWS_S3_BUCKET=product-management-nguyenvantong
```

üìå Kh√¥ng push `.env` l√™n GitHub
üìå Kh√¥ng c·∫ßn Access Key v√¨ EC2 d√πng IAM Role

---

## PH·∫¶N 10. CH·∫†Y ·ª®NG D·ª§NG

```bash
npm install
node app.js
```

Truy c·∫≠p:

```
http://<PUBLIC_EC2_IP>:3000
```

---

## PH·∫¶N 11. CH·∫†Y B·∫∞NG PM2 (KHUY·∫æN NGH·ªä)

```bash
npm install -g pm2
pm2 start app.js --name product-manager
pm2 save
```

Restart khi update code:

```bash
pm2 restart product-manager
```

---

## PH·∫¶N 12. QUY TR√åNH UPDATE CODE

### Tr√™n m√°y local

```bash
git add .
git commit -m "Update feature"
git push origin main
```

### Tr√™n EC2

```bash
git pull origin main
npm install --production
pm2 restart product-manager
```

---

## PH·∫¶N 13. L∆ØU √ù QUAN TR·ªåNG

* Kh√¥ng hard-code AWS Access Key
* Kh√¥ng push `.env`
* DynamoDB kh√¥ng c·∫ßn schema
* IAM Role l√† best practice
* Stop EC2 khi kh√¥ng s·ª≠ d·ª•ng ƒë·ªÉ ti·∫øt ki·ªám chi ph√≠


---

## PH·∫¶N 14. TH√îNG TIN SINH VI√äN

* **T√™n sinh vi√™n**: Nguy·ªÖn VƒÉn T√≤ng
* **MSSV**: 22662921
* **M√¥n h·ªçc**: C√¥ng Ngh·ªá M·ªõi

---
